# file: D:\option_trading_system\data_layer\data_fetcher.py
# hypothesis_version: 6.141.1

[-0.5, 0.0, 0.05, 0.3, 0.5, 1.0, 5.0, 25.0, 30.0, 100.0, 365.0, 100, 180, 365, '\n[步驟1/6] 獲取股票基本信息...', '\n[步驟2/6] 確定期權到期日期...', '\n[步驟3/6] 獲取期權鏈數據...', '\n[步驟5/6] 獲取基本面數據...', '\n[步驟6/7] 獲取宏觀數據...', '  ⚠ 無 API IV，僅使用計算值', '  ✓ 驗證通過（差異 < 5%）', '  ✗ 期權已到期或到期時間無效', '  ✗ 無法獲取股價', '  使用 IBKR API...', '  使用 IBKR...', '  使用 yfinance...', '  使用自主計算 Greeks...', '  嘗試從歷史數據獲取當前價格...', '  步驟1: 獲取股價...', '  步驟2: 準備反推計算參數...', '  步驟2: 獲取波動率...', '  步驟3: 獲取無風險利率...', '  步驟4: 對比和驗證...', '  步驟4: 計算到期時間...', '%Y-%m-%d', '%Y-%m-%d %H:%M:%S', '1d', '1mo', '429', '=', 'AAPL', 'C', 'Close', 'DGS10', 'DataFetcher已初始化', 'FRED', 'High', 'IBKR', 'IBKR 客户端不可用，将使用其他数据源', 'Low', 'NYSE', 'Open', 'Unknown', 'VIXCLS', 'Volume', 'Yahoo V2', '__main__', 'amount', 'analysis_date', 'annual_dividend', 'api_failure_counts', 'api_failures', 'api_iv', 'atm_option', 'atm_strike', 'beta', 'bmo', 'bs_calculated', 'bs_calculator', 'calculated_iv', 'calculation_date', 'call', 'call_atm', 'call_count', 'calls', 'company_name', 'completed', 'converged', 'currentPrice', 'current_price', 'd1', 'd2', 'data_source', 'date', 'dayHigh', 'dayLow', 'days_to_expiration', 'default', 'delta', 'dividendRate', 'dividend_amount', 'dividend_frequency', 'dividend_history', 'dividend_rate', 'earningsCalendar', 'earnings_call_time', 'empty', 'eps', 'epsEstimate', 'eps_estimate', 'error', 'exDate', 'exDividendDate', 'ex_dividend_date', 'expiration', 'expiration_date', 'fallback_by_type', 'fallback_used', 'fiftyTwoWeekHigh', 'fiftyTwoWeekLow', 'fifty_two_week_high', 'fifty_two_week_low', 'finnhub', 'frequency', 'gamma', 'greeks_calculator', 'high', 'hour', 'ibkr', 'ibkr_connected', 'ibkr_enabled', 'impliedVolatility', 'implied_volatility', 'industry', 'iterations', 'iv_calculator', 'iv_difference', 'iv_validation', 'lastPrice', 'live', 'longName', 'low', 'marketCap', 'market_cap', 'next_earnings_date', 'open', 'option_chain', 'option_greeks', 'option_type', 'paper', 'payDate', 'payment_date', 'pe_ratio', 'put', 'put_atm', 'puts', 'rate limit', 'recommended_iv', 'revenueEstimate', 'revenue_estimate', 'rho', 'risk_free_rate', 'sector', 'self_calculated', 'source', 'sources_used', 'statistics', 'stock_high', 'stock_info', 'stock_low', 'stock_open', 'stock_price', 'strike', 'strike_price', 'theoretical_price', 'theta', 'ticker', 'time_to_expiration', 'timestamp', 'too many requests', 'total_api_failures', 'total_fallback_calls', 'trailingEps', 'trailingPE', 'validation_passed', 'vega', 'vix', 'volatility', 'volatility_percent', 'volume', 'yahoo_v2', 'yfinance', 'ℹ IBKR 未启用，将使用其他数据源', 'ℹ 交易日计算器不可用，将使用日历日计算', '⚠ BS 計算器不可用，無法計算理論價', '⚠ FRED客户端未初始化，無法獲取利率', '⚠ IV 計算器不可用，無法進行驗證', '⚠ 所有數據源失敗，返回空期權鏈', '⚠ 無法初始化交易日曆: %s', '⚠ 無法獲取10年期國債收益率', '⚠ 無法獲取VIX', '✓ FRED客户端已初始化', '✓ Finnhub客户端已初始化', '✓ IBKR 客户端已初始化并连接', '半年', '啟動DataFetcher測試...', '季度', '完整分析數據獲取成功！', '年度', '開始獲取VIX指數...', '開始獲取無風險利率...']